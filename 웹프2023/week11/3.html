<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.0.slim.js" integrity="sha256-7GO+jepT9gJe9LB4XFf8snVOjX3iYNb0FHYr5LI1N5c=" crossorigin="anonymous"></script>
    <title>Document</title>
    <style>
        #box {
            border: 1px solid black;
            width: 500px; height: 300px;
            position: relative;
        }
        #fish {
            width: 120px; height: 70px;
            position: absolute;
            top: 110px;
        }
        * {

        }
    </style>
</head>
<body>
    <button>이동</button>
    <div id="box" >
        <img src="11주차images/fish.png" alt="물고기" id="fish">
    </div>

    <script>
        $(function() {
            $("button").on("click", function() {
                var endX = $("#box").innerWidth() - $("#fish").outerWidth();
                var move = $("#fish").position().left;
                var reverse=false;
                setInterval(function() {
                    if(!reverse) { // 거꾸로 있지 않고 제대로 있고
                        if(move >= endX-5) {  // 물고기의 움직임이 오른쪽 끝까지 닿았다면
                            reverse=true; // 거꾸로 있게 만듦
                            $("#fish").css("transform","scaleX(-1)");
                        }
                        move +=5;
                        $("#fish").css("left", move);
                    } else {
                        if(move <= 5) { // 물고기의 움직임이 왼쪽 끝까지 달았다면
                            reverse=false; // 제대로 있게 만듦
                            $("#fish").css("transform","scaleX(1)")
                        }
                        move -=5;
                        $("#fish").css("left", move);
                    }
                    
                }, 30);
            });
        });
    </script>
</body>
</html>